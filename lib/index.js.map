{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"src/index.js","sourcesContent":["let ObjectIter = require('./object');\nlet MapIter = require('./map');\nlet ZipIter = require('./zip');\nlet FlattenIter = require('./flatten');\nlet FilterIter = require('./filter');\nlet GroupIter = require('./group');\nlet Item = require('./item');\nrequire(\"babel/polyfill\");\nlet noAcc = Symbol('no acc');\nlet zipFunc = (...args)=>args;\nclass Iter {\n\tconstructor(collection,  ...args) {\n\t\t\n\t\tthis.array = false;\n\t\tif (typeof collection === 'function') {\n\t\t\tcollection = collection(...args);\n\t\t}\n\t\tif (typeof collection[Symbol.iterator] === 'function') {\n\t\t\tthis.iter = collection[Symbol.iterator]();\n\t\t\tif (collection.constructor === Map) {\n\t\t\t\tthis.array = true;\n\t\t\t}\n\t\t} else if (typeof collection.next === 'function') {\n\t\t\tthis.iter = collection;\n\t\t} else if (collection && typeof collection === 'object') {\n\t\t\tthis.iter = new ObjectIter(collection);\n\t\t\tthis.array = true;\n\t\t}\n\t}\n\t[Symbol.iterator](){\n\t\treturn this;\n\t}\n\tnext() {\n\t\treturn this.iter.next();\n\t}\n\ttoArray() {\n\t\tlet out = [];\n\t\tlet value = this.next();\n\t\twhile (!value.done) {\n\t\t\tout.push(value.value);\n\t\t\tvalue = this.next();\n\t\t}\n\t\treturn out;\n\t}\n\ttoSet() {\n\t\tlet out = new Set();\n\t\tlet value = this.next();\n\t\twhile (!value.done) {\n\t\t\tout.add(value.value);\n\t\t\tvalue = this.next();\n\t\t}\n\t\treturn out;\n\t}\n\ttoObject() {\n\t\tif (!this.array) {\n\t\t\tthrow new TypeError('I don\\'t know how to turn this into an object');\n\t\t}\n\t\tlet out = {};\n\t\tlet value = this.next();\n\t\twhile (!value.done) {\n\t\t\tout[value.value[0]] = value.value[1];\n\t\t\tvalue = this.next();\n\t\t}\n\t\treturn out;\n\t}\n\ttoMap() {\n\t\tif (!this.array) {\n\t\t\tthrow new TypeError('I don\\'t know how to turn this into a Map');\n\t\t}\n\t\treturn new Map(this);\n\t}\n\tmap(func) {\n\t\treturn new Iter(new MapIter(this, func));\n\t}\n\tfilter(func) {\n\t\treturn new Iter(new FilterIter(this, func));\n\t}\n\tzip(...args) {\n\t\tlet out = this.zipWith(zipFunc, ...args);\n\t\tif (args.length === 1) {\n\t\t\tout.array = true;\n\t\t}\n\t\treturn out;\n\t}\n\tzipWith(func, ...args) {\n\t\treturn new Iter(new ZipIter(func, this, ...args.map(item=>{\n\t\t\tif (item instanceof Iter) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn new Iter(item);\n\t\t})));\n\t}\n\tflatten(deep) {\n\t\treturn new Iter(new FlattenIter(this, Iter));\n\t}\n\tgroup(by) {\n\t\tif (by === 1) {\n\t\t\treturn this;\n\t\t}\n\t\tlet out = new Iter(new GroupIter(this, by));\n\t\tif (by === 2) {\n\t\t\tout.array = true;\n\t\t}\n\t\treturn out;\n \t}\n \tforEach(func) {\n \t\tif (this.array) {\n \t\t\tfor (let [key, value] of this) {\n \t\t\t\tfunc(key, value);\n \t\t\t}\n \t\t} else {\n \t\t\tlet i = 0;\n \t\t\tfor (let value of this) {\n \t\t\t\tfunc(value, i++);\n \t\t\t}\n \t\t}\n \t}\n \treduce(func, acc=noAcc) {\n \t\tif (acc === noAcc) {\n \t\t\tacc = this.next().value;\n \t\t}\n \t\tfor (let value of this) {\n \t\t\tacc = func(acc, value);\n \t\t}\n \t\treturn acc;\n \t}\n}\n\n\nmodule.exports = Iter;"]}